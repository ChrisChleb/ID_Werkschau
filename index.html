<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="javascript" href="SlideShow.js">
    
    <title>Interface Design</title>

</head>
<body style="overflow-x: hidden">

<!-- Menü zur Auswahl der Personen (wird später versteckt) -->
<div class="menu" id="menu">
    <div style="display: flex; flex-direction: row; align-items: center; gap: 16px">
        <label for="person1">Person 1:</label>
        <select id="person1">
            <option value="">-- Wähle eine Person --</option>
        </select>
    </div>

    <div style="display: flex; flex-direction: row; align-items: center; gap: 16px">
        <label for="person2">Person 2:</label>
        <select id="person2">
            <option value="">-- Wähle eine Person --</option>
        </select>
    </div>

    <div style="display: flex; flex-direction: row; align-items: center; gap: 16px;">
        <label for="person3">Person 3:</label>
        <select id="person3">
            <option value="">-- Wähle eine Person --</option>
        </select>
    </div>
    
    <div style="display: flex; flex-direction: row; align-items: center; gap: 16px">
        <label for="useLocalStorage">Auswahl speichern</label>
        <input id="useLocalStorage" type="checkbox" style="height: 24px; width: 24px">
    </div>
    
    <button id="loadResults">Ergebnisse anzeigen</button>
</div>

<!-- Bereich, um die Ergebnisse der Personen anzuzeigen -->
<div class="results hidden" id="results">
    <div class="topbar">
        <h1 class="headline">Interface Design</h1>
        <div class="vertical-line"></div>
        <p class="headline-description">Auf Entdeckungsreise: Interfaces, die Neugier wecken</p>
    </div>
    <div class="topbar-background"></div>
    <div style="margin: 88px 0">
        <div id="student1" class="student">
            <div style="display: flex; flex-direction: row; gap: 20px;">
                <div style="display: flex; flex-direction: column">
                    <video controls id="video1">
                        <source src="" type="video/mp4">
                        Dein Browser unterstützt kein Video.
                    </video>
                    <div>
                        <p id="title1" class="title"></p>
                        <p id="description1" class="description"></p>
                        <p id="creator1" class="creator"></p>
                    </div>
                </div>
                <div style="position: relative" class="hidden" id="prototype-container1">
                    <iframe height="820" width="400" id="prototype1" class="iframe"></iframe>
                </div>                
                <div class="hidden" id="slideshow-container1" style="display: flex; flex-direction: column">
                    <div class="slideshow" id="slideshow1"></div>
                </div>
            </div>
        </div>
        <!--Layout für Anna-->
        <div id="student1-anna" class="student hidden">
            <div style="display: flex; flex-direction: row; gap: 20px;">
                <div style="display: flex; flex-direction: row">
                    <video class="hidden" controls id="videoAnna">
                        <source src="" type="video/mp4">
                        Dein Browser unterstützt kein Video.
                    </video>
                    <div style="flex: 1">
                        <p id="titleAnna" class="title"></p>
                        <p id="descriptionAnna" class="description"></p>
                        <p id="creatorAnna" class="creator"></p>
                    </div>
                    <div style="position: relative; flex: 1; height: 624px" class="hidden" id="prototype-containerAnna">
                        <iframe height="820" width="400" style="" id="prototypeAnna" class="iframe-anna"></iframe>
                    </div>
                </div>
                <div class="hidden" id="slideshow-containerAnna" style="display: flex; flex-direction: column">
                    <div class="slideshow" id="slideshowAnna"></div>
                </div>
            </div>
        </div>
        <hr>
       <div id="student2" class="student">
            <div style="display: flex; flex-direction: row; gap: 20px;">
                <div style="display: flex; flex-direction: column">
                    <video controls id="video2">
                        <source src="" type="video/mp4">
                        Dein Browser unterstützt kein Video.
                    </video>
                    <div>
                        <p id="title2" class="title"></p>
                        <p id="description2" class="description"></p>
                        <p id="creator2" class="creator"></p>
                    </div>
                </div>
                <div style="position: relative" class="hidden" id="prototype-container2">
                    <iframe height="820" width="400" id="prototype2" class="iframe"></iframe>
                </div>                
                <div class="hidden"  id="slideshow-container2" style="display: flex; flex-direction: column">
                    <div class="slideshow" id="slideshow2"></div>
                </div>
            </div>
        </div>        
        
<!--Das hier ist test für Querformat-->        
<!--        <div id="student2" class="student">
                <div style="display: flex; flex-direction: column">
                    <video width="100%" controls id="video2">
                        <source src="" type="video/mp4">
                        Dein Browser unterstützt kein Video.
                    </video>
                    <div>
                        <p id="title2" class="title"></p>
                        <p id="description2" class="description"></p>
                        <p id="creator2" class="creator"></p>
                    </div>
                </div>
                <div style="position: relative" class="hidden" id="prototype-container2">
                    <iframe height="820" width="400" id="prototype2" class="iframe"></iframe>
                </div>
                <div class="hidden" id="slideshow-container2" style="display: flex; flex-direction: column">
                    <div class="slideshow" id="slideshow2"></div>
                </div>           
        </div>-->
        <hr id="hr3" class="hidden">
        <div id="student3" class="hidden student">
            <div style="display: flex; flex-direction: row; gap: 20px;">
                <div style="display: flex; flex-direction: column">
                    <video controls id="video3">
                        <source src="" type="video/mp4">
                        Dein Browser unterstützt kein Video.
                    </video>
                    <div>
                        <p id="title3" class="title"></p>
                        <p id="description3" class="description"></p>
                        <p id="creator3" class="creator"></p>
                    </div>
                </div>
                <div style="position: relative" class="hidden" id="prototype-container3">
                    <iframe height="820" width="400" id="prototype3" class="iframe"></iframe>
                </div>
                <div class="hidden"  id="slideshow-container3" style="display: flex; flex-direction: column">
                    <div class="slideshow" id="slideshow3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    class Project {
        title;
        video;
        description;  
        name;
        prototypeLink = null;
        imagePaths = [];
    }
    class SlideShow {
        constructor({ containerId, imagePaths, isHorizontal = false}) {
            this.container = document.getElementById(containerId);
            this.imagePaths = imagePaths;
            this.isHorizontal = isHorizontal;
            this.slideIndex = 0;
            this.slides = [];
            this.interval = null;

            this.init();
        }

        init() {
            this.renderSlides();
            this.showSlide(this.slideIndex);
            this.startSlideshow();
        }

        renderSlides() {
            // Bildzähler erstellen
            this.counter = document.createElement('div');
            this.counter.className = 'image-counter';
            this.container.appendChild(this.counter);

            this.imagePaths.forEach((image, index) => {
                // Slide-Element
                const slide = document.createElement('img');
                slide.src = image;
                slide.alt = `Slide ${index + 1}`;
                slide.className = this.isHorizontal ? 'slides-horizontal' : 'slides';

                this.container.appendChild(slide);
            });
            
            this.slides = this.container.querySelectorAll('.slides, .slides-horizontal');
            this.addControls();
        }
        addControls() {
            const controls = document.createElement('div');
            controls.className = 'slideshow-controls';

            const prevButton = document.createElement('button');
            prevButton.className = 'slideshow-button';
            prevButton.innerHTML = '<';
            prevButton.addEventListener('click', () => this.prevSlide());

            const nextButton = document.createElement('button');
            nextButton.className = 'slideshow-button';
            nextButton.innerHTML = '>';
            nextButton.addEventListener('click', () => this.nextSlide());

            controls.appendChild(prevButton);
            controls.appendChild(nextButton);
            this.container.appendChild(controls);
        }

        showSlide(index) {
            this.slides.forEach((slide, i) => {
                slide.style.display = i === index ? 'block' : 'none';
            });

            const counter = this.container.querySelector('.image-counter');
            counter.innerText = `${this.slideIndex + 1} / ${this.slides.length}`;
        }

        nextSlide() {
            this.slideIndex = (this.slideIndex + 1) % this.slides.length;
            this.showSlide(this.slideIndex);
            this.resetSlideshow();
        }

        prevSlide() {
            this.slideIndex = (this.slideIndex - 1 + this.slides.length) % this.slides.length;
            this.showSlide(this.slideIndex);
            this.resetSlideshow();
        }

        startSlideshow() {
            this.interval = setInterval(() => this.nextSlide(), 3500);
        }

        resetSlideshow() {
            clearInterval(this.interval);
            this.startSlideshow();
        }
    }
        
    // Projekt erstellen
    // Daten der Personen: Video-Pfade und Beschreibungen
    // wichtig ! den figma-link anpassen mit &hide-ui=1 und scalin=contain
    const christopher = new Project();
    christopher.name = "Christopher Chlebowski";
    christopher.video = "./videos/Christopher.mp4";
    christopher.description = "SoundOrbs ist eine App, die es Nutzer*innen ermöglicht, durch das spielerische Kombinieren von farbigen Spheren neue Musikwelten zu entdecken. Ähnlich wie das Erkunden von unbekannten Städten, können Nutzer*innen durch das Verschmelzen ihrer Lieblingssongs und Künstler*innen neue Klänge und unbekannte Talente auf einer interaktiven, visuellen Reise erleben.";
    christopher.title = "SoundOrbs";
    christopher.prototypeLink = "https://embed.figma.com/proto/Cp3saPA332a9vXh7W6gupG/APL?node-id=953-6478&scaling=contain&page-id=953%3A6476&starting-point-node-id=953%3A6478&embed-host=share&hide-ui=1";
    
    const christina = new Project();
    christina.name = "Christina Epple";
    christina.video = "./videos/Christina.mov";
    christina.description = "Entdecke Kunst in deiner Umgebung! Die App zeigt dir die Kunstwerke räumlich und geographisch angeordnet an. Nach Auswahl eines Kunstwerks kannst du dich durch Kippen deines Handys parallel zum Boden zu dem jeweiligen Ausstellungsort führen lassen. Scanne den QR-Code und probiere den Prototypen aus!";
    christina.title ="artVenture";
    christina.prototypeLink = null;
    christina.imagePaths = [
        "./img/ChristinaEpple/ChristinaEpple_StartScreenConcrete.jpeg",
        "./img/ChristinaEpple/3-EntdeckungsmodusHand.jpeg",
        "./img/ChristinaEpple/5-WegbeschreibungMitHintergrund.jpeg"
    ]
    
    const emily = new Project();
    emily.name = "Emily Singbeil";
    emily.video = "./videos/Emily.mp4";
    emily.description = "Your Zinester ist eine App, um spielerisch Zinester und deren Zines zu entdecken.";
    emily.title = "Build Your Zinester";
    emily.prototypeLink = "https://embed.figma.com/proto/OBkZz8ej5cvTI50RZlC8cY/Build-Your-Zinester?node-id=332-10935&p=f&scaling=contain&content-scaling=fixed&page-id=332%3A10934&starting-point-node-id=332%3A10935&embed-host=share&hide-ui=1";

    const ina = new Project();
    ina.name = "Ina Becker";
    ina.video = "./videos/Ina.mp4";
    ina.description = "Streetlifting ist eine Mischung aus Calisthenics und Kraftsport, bei der Athleten Eigengewichtsübungen wie Klimmzüge mit maximalem Zusatzgewicht ausführen. Die App informiert über den Sport und erleichtert die Suche nach Events";
    ina.title = "Streetlifting - Finde dein Event!";
    ina.prototypeLink = null;
    ina.imagePaths = [
        "./img/InaBecker/InaBecker_Chalk_black.jpg",
        "./img/InaBecker/InaBecker_Chalk_wood.jpg",
        "./img/InaBecker/InaBecker_Start_screen.png",
        "./img/InaBecker/InaBeckerFilter_Anpassen.jpg"
    ]
    
    const linh = new Project();
    linh.name = "Linh Nguyen";
    linh.video = "./videos/Linh.mp4";
    linh.title = "VirtuWall";
    linh.description = "VirtuWall ermöglicht es, digitale Graffitis zu entwerfen und auf Fassaden in der eigenen Umgebung zu projizieren. Die App bietet kreative Tools und eine Plattform, um Kunstwerke zu teilen und urbane Räume virtuell zu gestalten.";
    linh.prototypeLink = null;
    linh.imagePaths = [
        "./img/LinhNguyen/LinhNguyen_Mockup2.jpg",
        "./img/LinhNguyen/LinhNguyen_Mockup3.jpg",
        "./img/LinhNguyen/LinhNguyen_VW_Mockup.png"
    ]

    const lina = new Project();
    lina.name = "Lina-Marie Baumann";
    lina.video = "./videos/Lina.mp4";
    lina.title = "eat the rainbow";
    lina.description = "Die Anwendung »eat the rainbow« ermöglicht es dem User, eine ausgewogene und gesunde Ernährung auf spielerische Art und Weise in den Alltag zu integrieren. Dabei sucht er sich die Lebensmittel anhand ihrer Farbe raus, um am Ende eine bunte Mahlzeit zubereiten zu können, was sich auf das Prinzip der Regenbogenernährung stützt.";
    lina.prototypeLink = null;

    const nadja = new Project();
    nadja.name = "Nadja Stommel";
    nadja.video = "./videos/Nadja.mp4";
    nadja.title = "Characterize";
    nadja.description = "Mit Characterize können Bücher entdeckt werden, in denen Protagonisten mit gewünschten Charaktereigenschaften vorkommen.";
    nadja.prototypeLink = "https://embed.figma.com/proto/zy88lBnVVLQsUmowDY1vz5/Prototype?page-id=0%3A1&node-id=6-1250&p=f&viewport=121%2C60%2C0.13&scaling=contain&content-scaling=fixed&embed-host=share&hide-ui=1";

    const selina = new Project();
    selina.name = "Selina Natschke";
    selina.video = "./videos/Selina.mp4";
    selina.title = "loreXplore";
    selina.description = "Eine App, in der sich Fantasybücher auf neue Arten wie über Ästhetik oder enthaltene Kreaturen entdecken lassen können. Die Bücher verstecken sich in einer Map, die in verschiedene Landschaftstypen unterteilt ist, wodurch beispielsweise eine Reise durchs »Ästhetikgebirge« die Möglichkeit bietet, Bücher anhand bestimmter Ästhetiken in der bergischen Landschaft zu entdecken.";
    selina.prototypeLink = null;
    selina.imagePaths = [
        "./img/SelinaNatschke/Mockup1.png",
        "./img/SelinaNatschke/Mockup2.png",
        "./img/SelinaNatschke/Mockup3.png"
    ]

    const charlotte = new Project();
    charlotte.name = "Charlotte Kliem";
    charlotte.video = "./videos/Charlotte.mp4";
    charlotte.title = "streetARt";
    charlotte.description = "Die App streetARt ermöglicht es Nutzern, durch selbst gestaltete digitale Street-Art-Kunstwerke personalisierte Entdeckungstouren zu erstellen, die die lokale Street-Art-Kultur lebendig vermitteln. Augmented Reality-Elemente erwecken dabei sowohl die eigenen Kreationen als auch neu entdeckte Kunstwerke zum Leben und bieten ein interaktives, kreatives Erlebnis.";
    charlotte.prototypeLink = null;
    charlotte.imagePaths = [
        "./img/CharlotteKliem/logo_streetArt_2.png",
        "./img/CharlotteKliem/mock-up_start.png"
    ]

    const marie = new Project();
    marie.name = "Marie Eichler";
    marie.video = "./videos/Marie.mp4";
    marie.title = "Hall of Failure";
    marie.description = "In der »Hall of Failure« tauchen NutzerInnen in die Welt gescheiterter Erfindungen ein. In zwei Modi lassen sich Innovationen entweder thematisch nach Kategorien oder chronologisch durch die Jahrzehnte entdecken, um ihre Geschichten und Gründe für das Scheitern zu erfahren.";
    marie.prototypeLink = null;
    marie.imagePaths = [
        "./img/MarieEichler/mockup1.jpg"
    ]

    const caroline = new Project();
    caroline.name = "Caroline Kortrijk";
    caroline.video = "./videos/Caroline.mp4";
    caroline.title = "MundArt";
    caroline.description = "Die App MundArt bringt Sprachen und Dialekte spielerisch näher, denn viele sind vom Aussterben bedroht. Die Aufgabe: die Mundart auf einer Weltkarte möglichst genau lokalisieren und den eigenen Highscore schlagen. Zur Belohnung gibt es spannende Infos zur neuen Sprachentdeckung.";
    caroline.prototypeLink = null;
    caroline.imagePaths = [
        "./img/CarolineKortrijk/MundArtMockup.jpg"
    ]

    const anna = new Project();
    anna.name = "Anna Korn";
    anna.video = "./videos/Anna.mp4";
    anna.title = "gurr me up";
    anna.description = "Entdecke die Welt der Stadttauben! Begib dich auf die Suche nach den versteckten Tauben und erfahre etwas über sie und ihre Geschichte. Sammle sie alle und lass dich überraschen!";
    anna.prototypeLink = "https://embed.figma.com/proto/siFt8p4utwXtksDPhypxi2/storyboard?node-id=93-347&scaling=contain&content-scaling=fixed&page-id=93%3A341&starting-point-node-id=93%3A342&embed-host=share&hide-ui=1" ;

    const ana = new Project();
    ana.name = "Ana-Maria Kanin";
    ana.video = "./videos/Ana.mp4";
    ana.title = "EventEcho";
    ana.description = "Diese App bietet einen exklusiven Blick hinter die Kulissen von Künstler*Innen aus Deiner Stadt.";

    const rebecca = new Project();
    rebecca.name = "Rebecca Grosch";
    rebecca.video = "./videos/Rebecca.mp4";
    rebecca.title = "Postcards";
    rebecca.description = "In Postcards geht es darum, Postkarten aus dem letzten Jahrhundert neu zu entdecken. Dabei können die Postkarten auf verschiedene Arten sortiert, favorisiert und digital versendet werden.";
    rebecca.prototypeLink = null;
    rebecca.imagePaths = [
        "./img/RebeccaGrosch/mockup.png",
        "./img/RebeccaGrosch/mockup2.png"
    ]
        
    // Sammlung
    const projekte = [];
    projekte.push(christopher);
    projekte.push(christina);
    projekte.push(emily);
    projekte.push(ina);
    projekte.push(linh);
    projekte.push(lina);
    projekte.push(nadja);
    projekte.push(selina);
    projekte.push(charlotte);
    projekte.push(marie);
    projekte.push(caroline);
    projekte.push(anna);
    projekte.push(ana);
    projekte.push(rebecca);

    // Menü-Elemente auswählen
    const person1Select = document.getElementById("person1");
    const person2Select = document.getElementById("person2");
    const person3Select = document.getElementById("person3");
    const menu = document.getElementById("menu");
    const results = document.getElementById("results");

    // Dropdowns mit Optionen füllen
    projekte.forEach((projekt, index) => {
        const option1 = new Option(projekt.name, index);
        const option2 = new Option(projekt.name, index);
        const option3 = new Option(projekt.name, index);
        person1Select.add(option1);
        person2Select.add(option2);
        person3Select.add(option3);
    });

    // calc left value for topbar
    const windowWidth = window.innerWidth;
    const whitespace = windowWidth - 1359;
    const root = document.querySelector(':root');
    root.style.setProperty("--left", whitespace/2);    
    function loadData(person1Id, person2Id, person3Id) {
        // Inhalte für Person 1 laden
        const student1 = projekte[person1Id];
        if (student1.name === "Anna Korn") {
            document.getElementById("descriptionAnna").innerText = student1.description;
            document.getElementById("titleAnna").innerText = student1.title;
            document.getElementById("creatorAnna").innerText = student1.name;

            const iframe = document.getElementById("prototypeAnna");
            iframe.src = student1.prototypeLink;
            // show annas layout
            document.getElementById("prototype-containerAnna").classList.remove("hidden");
            document.getElementById("student1-anna").classList.remove("hidden");
            // hide default layout
            document.getElementById("student1").classList.add("hidden");
        } else {
            const video1 = document.getElementById("video1");
            video1.src = student1.video;
            video1.addEventListener('ended', () => {
                video1.currentTime = 0;
                video1.pause();
                document.exitFullscreen();
            });
            document.getElementById("description1").innerText = student1.description;
            document.getElementById("title1").innerText = student1.title;
            document.getElementById("creator1").innerText = student1.name;
            if (student1.prototypeLink != null) {
                const iframe = document.getElementById("prototype1");
                iframe.src = student1.prototypeLink;
                document.getElementById("prototype-container1").classList.remove("hidden");
            } else if (student1.imagePaths.length > 0){
                new SlideShow({
                    containerId: "slideshow1",
                    imagePaths: student1.imagePaths
                });
                document.getElementById("slideshow-container1").classList.remove("hidden");
            }
        }

        // Inhalte für Person 2 laden
        const student2 = projekte[person2Id];
        const video2 = document.getElementById("video2");
        video2.src = student2.video;
        video2.addEventListener('ended', () => {
            video2.currentTime = 0;
            video2.pause();
            document.exitFullscreen();
        });
        document.getElementById("description2").innerText = student2.description;
        document.getElementById("title2").innerText = student2.title;
        document.getElementById("creator2").innerText = student2.name;
        if (student2.prototypeLink != null) {
            const iframe = document.getElementById("prototype2");
            iframe.src = student2.prototypeLink;
            document.getElementById("prototype-container2").classList.remove("hidden");
        } else if (student2.imagePaths.length > 0){
            new SlideShow({
                containerId: "slideshow2",
                imagePaths: student2.imagePaths
            });
            document.getElementById("slideshow-container2").classList.remove("hidden");
        }

        if (person3Id) {
            // Inhalte für Person 3 laden
            const student3 = projekte[person3Id];
            const video3 = document.getElementById("video3");
            video3.src = student3.video;
            video3.addEventListener('ended', () => {
                video3.currentTime = 0;
                video3.pause();
                document.exitFullscreen();
            });
            document.getElementById("description3").innerText = student3.description;
            document.getElementById("title3").innerText = student3.title;
            document.getElementById("creator3").innerText = student3.name;
            if (student3.prototypeLink != null) {
                const iframe = document.getElementById("prototype3");
                iframe.src = student3.prototypeLink;
                document.getElementById("prototype-container3").classList.remove("hidden");
            } else if (student3.imagePaths.length > 0){
                new SlideShow({
                    containerId: "slideshow3",
                    imagePaths: student3.imagePaths
                });
                document.getElementById("slideshow-container3").classList.remove("hidden");
            }
            document.getElementById("student3").classList.remove("hidden");
            document.getElementById("hr3").classList.remove("hidden");
        }
    }
    
    // Event Listener für "Ergebnisse anzeigen"-Button
    document.getElementById("loadResults").addEventListener("click", () => {
        const person1Id = person1Select.value;
        const person2Id = person2Select.value;
        const person3Id = person3Select.value;
        const useLocalStorageSelect = document.getElementById("useLocalStorage");
        const useLocalStorage = useLocalStorageSelect.checked;
        console.log("useLocalStorage",useLocalStorage);       
        
        // Überprüfen, ob beide Personen ausgewählt wurden
        if (!person1Id || !person2Id) {
            alert("Bitte wähle zwei Personen aus.");
            return;
        }

        if (useLocalStorage) {
            localStorage.setItem("selection", JSON.stringify({person1Id: person1Id, person2Id: person2Id, person3Id: person3Id}));
        }
        
        loadData(person1Id, person2Id, person3Id);
        
        // Menü ausblenden und Ergebnisse anzeigen
        menu.classList.add("hidden");
        results.classList.remove("hidden");
    });

    const selectionFromStorage = JSON.parse(localStorage.getItem("selection"));
    if (selectionFromStorage != null) {
        const person1Id = selectionFromStorage.person1Id;
        const person2Id = selectionFromStorage.person2Id;
        const person3Id = selectionFromStorage.person3Id;
        
        loadData(person1Id, person2Id, person3Id);
        
        // Menü ausblenden und Ergebnisse anzeigen
        menu.classList.add("hidden");
        results.classList.remove("hidden");        
    }

    let inactivityTimer;
    const inactivityLimit = 3 * 60 * 1000;  // 3 Minuten in Millisekunden (180000 ms)
    function resetTimer() {
        // Timer zurücksetzen
        clearTimeout(inactivityTimer);

        // Timer starten
        inactivityTimer = setTimeout(() => {
            window.scrollTo(0, 0);
            window.location.reload();
        }, inactivityLimit);
    }

    // Timer zurücksetzen bei Mausbewegung
    document.addEventListener('mousemove', resetTimer);
    
    resetTimer();
</script>
</body>
</html>
